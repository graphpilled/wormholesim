// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cmo, use-js-string=true, version=5.9.1

//# unitInfo: Provides: Dune__exe__Metric
//# unitInfo: Requires: Dune__exe__Expr, Stdlib, Stdlib__Array, Stdlib__List, Stdlib__Printf
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst$0 = "\xce\xb8",
    cst_b$1 = "b",
    cst_r = "r",
    cst$1 = "} = ",
    caml_check_bound = runtime.caml_check_bound;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) === 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) === 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) === 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call4(f, a0, a1, a2, a3){
    return (f.l >= 0 ? f.l : f.l = f.length) === 4
            ? f(a0, a1, a2, a3)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    coords = [0, "t", [0, cst_r, [0, cst$0, [0, "\xcf\x86", 0]]]],
    r$1 = [1, cst_r],
    theta$1 = [1, cst$0],
    r$0 = [1, cst_r],
    theta$0 = [1, cst$0],
    r = [1, cst_r],
    theta = [1, cst$0],
    cst = "\xce\xa6",
    Stdlib = global_data.Stdlib,
    Dune_exe_Expr = global_data.Dune__exe__Expr,
    Stdlib_List = global_data.Stdlib__List,
    Stdlib_Printf = global_data.Stdlib__Printf,
    Stdlib_Array = global_data.Stdlib__Array,
    cst_Invalid_coordinate_index = "Invalid coordinate index",
    cst_Non_diagonal_metrics_not_y = "Non-diagonal metrics not yet supported",
    cst_b = cst_b$1,
    cst_b$0 = cst_b$1,
    _a_ = [1, "b\xe2\x82\x80"],
    cst_Metric_g = "Metric g_\xce\xbc\xce\xbd:",
    cst_Inverse_metric_g = "\nInverse metric g^\xce\xbc\xce\xbd:",
    _b_ =
      [0,
       [11, "  g^{", [2, 0, [2, 0, [11, cst$1, [2, 0, [12, 10, 0]]]]]],
       "  g^{%s%s} = %s\n"],
    _c_ =
      [0,
       [11, "  g_{", [2, 0, [2, 0, [11, cst$1, [2, 0, [12, 10, 0]]]]]],
       "  g_{%s%s} = %s\n"];
   function coord_to_idx(param){
    switch(param){
      case 0:
       return 0;
      case 1:
       return 1;
      case 2:
       return 2;
      default: return 3;
    }
   }
   function idx_to_coord(param){
    if(3 < param >>> 0)
     return caml_call1(Stdlib[2], cst_Invalid_coordinate_index);
    switch(param){
      case 0:
       return 0;
      case 1:
       return 1;
      case 2:
       return 2;
      default: return 3;
    }
   }
   function get_lower(metric, mu, nu){
    var _O_ = coord_to_idx(nu), _P_ = coord_to_idx(mu);
    return caml_check_bound(caml_check_bound(metric[1], _P_)[1 + _P_], _O_)
            [1 + _O_];
   }
   function get_upper(metric, mu, nu){
    var _M_ = coord_to_idx(nu), _N_ = coord_to_idx(mu);
    return caml_check_bound(caml_check_bound(metric[2], _N_)[1 + _N_], _M_)
            [1 + _M_];
   }
   function invert_diagonal(components){
    var inv = caml_call3(Stdlib_Array[2], 4, 4, Dune_exe_Expr[4]), i = 0;
    for(;;){
     var j = 0;
     for(;;){
      if(i === j){
       var
        _I_ =
          caml_check_bound(caml_check_bound(components, i)[1 + i], i)[1 + i],
        _J_ = caml_call2(Dune_exe_Expr[13], Dune_exe_Expr[5], _I_);
       caml_check_bound(caml_check_bound(inv, i)[1 + i], j)[1 + j] = _J_;
      }
      else{
       var _L_ = Dune_exe_Expr[4];
       caml_check_bound(caml_check_bound(inv, i)[1 + i], j)[1 + j] = _L_;
      }
      var _K_ = j + 1 | 0;
      if(3 === j) break;
      j = _K_;
     }
     var _H_ = i + 1 | 0;
     if(3 === i) return inv;
     i = _H_;
    }
   }
   function is_diagonal(components){
    var off_diag_zero = [0, 1], i = 0;
    for(;;){
     var j = 0;
     for(;;){
      var _D_ = i !== j ? 1 : 0;
      if(_D_)
       var
        _E_ =
          caml_check_bound(caml_check_bound(components, i)[1 + i], j)[1 + j],
        _F_ = 1 - caml_call1(Dune_exe_Expr[7], _E_);
      else
       var _F_ = _D_;
      if(_F_) off_diag_zero[1] = 0;
      var _G_ = j + 1 | 0;
      if(3 === j) break;
      j = _G_;
     }
     var _C_ = i + 1 | 0;
     if(3 === i) return off_diag_zero[1];
     i = _C_;
    }
   }
   function make_metric(components){
    return is_diagonal(components)
            ? [0, components, invert_diagonal(components)]
            : caml_call1(Stdlib[2], cst_Non_diagonal_metrics_not_y);
   }
   function morris_thorne_metric(opt, param){
    var
     c = opt ? opt[1] : Dune_exe_Expr[5],
     phi_r = [2, cst, r],
     b_r = [2, cst_b, r],
     _w_ = caml_call2(Dune_exe_Expr[12], c, c),
     _x_ = [9, caml_call2(Dune_exe_Expr[12], Dune_exe_Expr[6], phi_r)],
     _y_ = caml_call2(Dune_exe_Expr[12], _x_, _w_),
     g_tt = caml_call1(Dune_exe_Expr[9], _y_),
     _z_ = caml_call2(Dune_exe_Expr[11], r, b_r),
     g_rr = caml_call2(Dune_exe_Expr[13], r, _z_),
     g_thth = caml_call2(Dune_exe_Expr[12], r, r),
     _A_ = caml_call2(Dune_exe_Expr[14], [11, theta], Dune_exe_Expr[6]),
     _B_ = caml_call2(Dune_exe_Expr[12], r, r),
     g_phph = caml_call2(Dune_exe_Expr[12], _B_, _A_),
     components = caml_call3(Stdlib_Array[2], 4, 4, Dune_exe_Expr[4]);
    caml_check_bound(caml_check_bound(components, 0)[1], 0)[1] = g_tt;
    caml_check_bound(caml_check_bound(components, 1)[2], 1)[2] = g_rr;
    caml_check_bound(caml_check_bound(components, 2)[3], 2)[3] = g_thth;
    caml_check_bound(caml_check_bound(components, 3)[4], 3)[4] = g_phph;
    return make_metric(components);
   }
   function simple_wormhole_metric(opt, param){
    var
     c = opt ? opt[1] : Dune_exe_Expr[5],
     b_r = [2, cst_b$0, r$0],
     _s_ = caml_call2(Dune_exe_Expr[12], c, c),
     g_tt = caml_call1(Dune_exe_Expr[9], _s_),
     _t_ = caml_call2(Dune_exe_Expr[11], r$0, b_r),
     g_rr = caml_call2(Dune_exe_Expr[13], r$0, _t_),
     g_thth = caml_call2(Dune_exe_Expr[12], r$0, r$0),
     _u_ = caml_call2(Dune_exe_Expr[14], [11, theta$0], Dune_exe_Expr[6]),
     _v_ = caml_call2(Dune_exe_Expr[12], r$0, r$0),
     g_phph = caml_call2(Dune_exe_Expr[12], _v_, _u_),
     components = caml_call3(Stdlib_Array[2], 4, 4, Dune_exe_Expr[4]);
    caml_check_bound(caml_check_bound(components, 0)[1], 0)[1] = g_tt;
    caml_check_bound(caml_check_bound(components, 1)[2], 1)[2] = g_rr;
    caml_check_bound(caml_check_bound(components, 2)[3], 2)[3] = g_thth;
    caml_check_bound(caml_check_bound(components, 3)[4], 3)[4] = g_phph;
    return make_metric(components);
   }
   function constant_b_wormhole(_n_, opt, param){
    var
     c = _n_ ? _n_[1] : Dune_exe_Expr[5],
     b0 = opt ? opt[1] : _a_,
     _o_ = caml_call2(Dune_exe_Expr[12], c, c),
     g_tt = caml_call1(Dune_exe_Expr[9], _o_),
     _p_ = caml_call2(Dune_exe_Expr[11], r$1, b0),
     g_rr = caml_call2(Dune_exe_Expr[13], r$1, _p_),
     g_thth = caml_call2(Dune_exe_Expr[12], r$1, r$1),
     _q_ = caml_call2(Dune_exe_Expr[14], [11, theta$1], Dune_exe_Expr[6]),
     _r_ = caml_call2(Dune_exe_Expr[12], r$1, r$1),
     g_phph = caml_call2(Dune_exe_Expr[12], _r_, _q_),
     components = caml_call3(Stdlib_Array[2], 4, 4, Dune_exe_Expr[4]);
    caml_check_bound(caml_check_bound(components, 0)[1], 0)[1] = g_tt;
    caml_check_bound(caml_check_bound(components, 1)[2], 1)[2] = g_rr;
    caml_check_bound(caml_check_bound(components, 2)[3], 2)[3] = g_thth;
    caml_check_bound(caml_check_bound(components, 3)[4], 3)[4] = g_phph;
    return make_metric(components);
   }
   function print_metric(metric){
    caml_call1(Stdlib[46], cst_Metric_g);
    var i$0 = 0;
    for(;;){
     var j$0 = 0;
     for(;;){
      var
       g$0 =
         caml_check_bound(caml_check_bound(metric[1], i$0)[1 + i$0], j$0)
          [1 + j$0];
      if(1 - caml_call1(Dune_exe_Expr[7], g$0)){
       var
        _j_ = caml_call1(Dune_exe_Expr[25], g$0),
        _k_ = caml_call2(Stdlib_List[8], coords, j$0),
        _l_ = caml_call2(Stdlib_List[8], coords, i$0);
       caml_call4(Stdlib_Printf[2], _c_, _l_, _k_, _j_);
      }
      var _m_ = j$0 + 1 | 0;
      if(3 === j$0) break;
      j$0 = _m_;
     }
     var _i_ = i$0 + 1 | 0;
     if(3 === i$0) break;
     i$0 = _i_;
    }
    caml_call1(Stdlib[46], cst_Inverse_metric_g);
    var i = 0;
    for(;;){
     var j = 0;
     for(;;){
      var
       g = caml_check_bound(caml_check_bound(metric[2], i)[1 + i], j)[1 + j];
      if(1 - caml_call1(Dune_exe_Expr[7], g)){
       var
        _e_ = caml_call1(Dune_exe_Expr[25], g),
        _f_ = caml_call2(Stdlib_List[8], coords, j),
        _g_ = caml_call2(Stdlib_List[8], coords, i);
       caml_call4(Stdlib_Printf[2], _b_, _g_, _f_, _e_);
      }
      var _h_ = j + 1 | 0;
      if(3 === j) break;
      j = _h_;
     }
     var _d_ = i + 1 | 0;
     if(3 === i) return 0;
     i = _d_;
    }
   }
   var
    Dune_exe_Metric =
      [0,
       coord_to_idx,
       idx_to_coord,
       get_lower,
       get_upper,
       invert_diagonal,
       is_diagonal,
       make_metric,
       morris_thorne_metric,
       simple_wormhole_metric,
       constant_b_wormhole,
       print_metric];
   runtime.caml_register_global(22, Dune_exe_Metric, "Dune__exe__Metric");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLmpzX2JyaWRnZS5lb2Jqcy9qc29vL2R1bmVfX2V4ZV9fTWV0cmljLmNtby5qcyIsInNlY3Rpb25zIjpbeyJvZmZzZXQiOnsibGluZSI6OSwiY29sdW1uIjowfSwibWFwIjp7InZlcnNpb24iOjMsImZpbGUiOiIuanNfYnJpZGdlLmVvYmpzL2pzb28vZHVuZV9fZXhlX19NZXRyaWMuY21vLmpzIiwibmFtZXMiOlsicnVudGltZSIsImNzdCIsImNzdF9iIiwiY3N0X3IiLCJjYW1sX2NoZWNrX2JvdW5kIiwiY2FtbF9jYWxsMSIsImYiLCJhMCIsImNhbWxfY2FsbDIiLCJhMSIsImNhbWxfY2FsbDMiLCJhMiIsImNhbWxfY2FsbDQiLCJhMyIsImdsb2JhbF9kYXRhIiwiY29vcmRzIiwiciIsInRoZXRhIiwiU3RkbGliIiwiRHVuZV9leGVfRXhwciIsIlN0ZGxpYl9MaXN0IiwiU3RkbGliX1ByaW50ZiIsIlN0ZGxpYl9BcnJheSIsImNzdF9JbnZhbGlkX2Nvb3JkaW5hdGVfaW5kZXgiLCJjc3RfTm9uX2RpYWdvbmFsX21ldHJpY3Nfbm90X3kiLCJjc3RfTWV0cmljX2ciLCJjc3RfSW52ZXJzZV9tZXRyaWNfZyIsImNvb3JkX3RvX2lkeCIsInBhcmFtIiwiaWR4X3RvX2Nvb3JkIiwiZ2V0X2xvd2VyIiwibWV0cmljIiwibXUiLCJudSIsImdldF91cHBlciIsImludmVydF9kaWFnb25hbCIsImNvbXBvbmVudHMiLCJpbnYiLCJpIiwiaiIsImlzX2RpYWdvbmFsIiwib2ZmX2RpYWdfemVybyIsIm1ha2VfbWV0cmljIiwibW9ycmlzX3Rob3JuZV9tZXRyaWMiLCJvcHQiLCJjIiwicGhpX3IiLCJiX3IiLCJnX3R0IiwiZ19yciIsImdfdGh0aCIsImdfcGhwaCIsInNpbXBsZV93b3JtaG9sZV9tZXRyaWMiLCJjb25zdGFudF9iX3dvcm1ob2xlIiwiYjAiLCJwcmludF9tZXRyaWMiLCJnIiwiRHVuZV9leGVfTWV0cmljIl0sInNvdXJjZXMiOlsiL2J1aWx0aW4vYmxhY2tib3gu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QTtBQUFBLFNBQUFDLElBRXRDO0FBQUE7QUFBQTtBQUFBLE9BQUFpQixJQUNVO0FBQUEsTUFDRDtBQUFBO0FBQUEsY0FFcUM7QUFBQSxjQUFwQjtBQUFBLGNBQXBCO0FBQUEsT0FERjtBQUFBO0FBQUEsZ0JBRGdCO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFGcEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQU1FO0FBQUE7QUFBQSxJQUFBQztBQUFBQSxNRDlKTiIsInNvdXJjZXNDb250ZW50IjpbIigqIGdlbmVyYXRlZCBjb2RlICopIiwiKCogbWV0cmljLm1sIC0gTWV0cmljIHRlbnNvciB3aXRoIGFjdHVhbCBjb21wdXRhdGlvbiAqKVxuXG5vcGVuIEV4cHJcblxuKCogQSBtZXRyaWMgaXMgYSA0eDQgbWF0cml4IG9mIGV4cHJlc3Npb25zLCBpbmRleGVkIGJ5IGNvb3JkaW5hdGVzICopXG50eXBlIG1ldHJpYyA9IHtcbiAgY29tcG9uZW50cyA6IGV4cHIgYXJyYXkgYXJyYXk7ICAoKiBnX868zr0gLSBjb3ZhcmlhbnQsIGxvd2VyIGluZGljZXMgKilcbiAgaW52ZXJzZSA6IGV4cHIgYXJyYXkgYXJyYXk7ICAgICAoKiBnXs68zr0gLSBjb250cmF2YXJpYW50LCB1cHBlciBpbmRpY2VzICopXG59XG5cbmxldCBjb29yZF90b19pZHggPSBmdW5jdGlvblxuICB8IFQgLT4gMCB8IFIgLT4gMSB8IFRoZXRhIC0+IDIgfCBQaGkgLT4gM1xuXG5sZXQgaWR4X3RvX2Nvb3JkID0gZnVuY3Rpb25cbiAgfCAwIC0+IFQgfCAxIC0+IFIgfCAyIC0+IFRoZXRhIHwgMyAtPiBQaGlcbiAgfCBfIC0+IGZhaWx3aXRoIFwiSW52YWxpZCBjb29yZGluYXRlIGluZGV4XCJcblxuKCogR2V0IG1ldHJpYyBjb21wb25lbnQgZ1/OvM69ICopXG5sZXQgZ2V0X2xvd2VyIG1ldHJpYyBtdSBudSA9XG4gIG1ldHJpYy5jb21wb25lbnRzLihjb29yZF90b19pZHggbXUpLihjb29yZF90b19pZHggbnUpXG5cbigqIEdldCBpbnZlcnNlIG1ldHJpYyBjb21wb25lbnQgZ17OvM69ICopICBcbmxldCBnZXRfdXBwZXIgbWV0cmljIG11IG51ID1cbiAgbWV0cmljLmludmVyc2UuKGNvb3JkX3RvX2lkeCBtdSkuKGNvb3JkX3RvX2lkeCBudSlcblxuKCogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICBNQVRSSVggSU5WRVJTRSBGT1IgRElBR09OQUwgTUVUUklDU1xuICAgXG4gICBGb3IgZGlhZ29uYWwgbWV0cmljOiBnXs68zrwgPSAxL2dfzrzOvCwgZ17OvM69ID0gMCBmb3IgzrziiaDOvVxuICAgXG4gICBUaGlzIGlzIGV4YWN0IGZvciBNb3JyaXMtVGhvcm5lIChhbmQgU2Nod2FyenNjaGlsZCwgRkxSVywgZXRjLilcbiAgIEdlbmVyYWwgY2FzZSB3b3VsZCBuZWVkIHN5bWJvbGljIGRldGVybWluYW50L2NvZmFjdG9ycy5cbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqKVxuXG5sZXQgaW52ZXJ0X2RpYWdvbmFsIGNvbXBvbmVudHMgPVxuICBsZXQgaW52ID0gQXJyYXkubWFrZV9tYXRyaXggNCA0IHplcm8gaW5cbiAgZm9yIGkgPSAwIHRvIDMgZG9cbiAgICBmb3IgaiA9IDAgdG8gMyBkb1xuICAgICAgaWYgaSA9IGogdGhlblxuICAgICAgICBpbnYuKGkpLihqKSA8LSBkaXYgb25lIGNvbXBvbmVudHMuKGkpLihpKVxuICAgICAgZWxzZVxuICAgICAgICBpbnYuKGkpLihqKSA8LSB6ZXJvXG4gICAgZG9uZVxuICBkb25lO1xuICBpbnZcblxubGV0IGlzX2RpYWdvbmFsIGNvbXBvbmVudHMgPVxuICBsZXQgb2ZmX2RpYWdfemVybyA9IHJlZiB0cnVlIGluXG4gIGZvciBpID0gMCB0byAzIGRvXG4gICAgZm9yIGogPSAwIHRvIDMgZG9cbiAgICAgIGlmIGkgPD4gaiAmJiBub3QgKGlzX3plcm8gY29tcG9uZW50cy4oaSkuKGopKSB0aGVuXG4gICAgICAgIG9mZl9kaWFnX3plcm8gOj0gZmFsc2VcbiAgICBkb25lXG4gIGRvbmU7XG4gICFvZmZfZGlhZ196ZXJvXG5cbigqIENyZWF0ZSBtZXRyaWMgZnJvbSBjb21wb25lbnRzLCBjb21wdXRpbmcgaW52ZXJzZSAqKVxubGV0IG1ha2VfbWV0cmljIGNvbXBvbmVudHMgPVxuICBpZiBub3QgKGlzX2RpYWdvbmFsIGNvbXBvbmVudHMpIHRoZW5cbiAgICBmYWlsd2l0aCBcIk5vbi1kaWFnb25hbCBtZXRyaWNzIG5vdCB5ZXQgc3VwcG9ydGVkXCJcbiAgZWxzZVxuICAgIHsgY29tcG9uZW50czsgaW52ZXJzZSA9IGludmVydF9kaWFnb25hbCBjb21wb25lbnRzIH1cblxuKCogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICBNT1JSSVMtVEhPUk5FIFdPUk1IT0xFIE1FVFJJQ1xuICAgXG4gICBkc8KyID0gLWVeezLOpihyKX0gY8KyIGR0wrIgKyBkcsKyLygxLWIocikvcikgKyBywrJkzrjCsiArIHLCsnNpbsKyzrggZM+GwrJcbiAgIFxuICAgV2UgcmVwcmVzZW50IM6mKHIpIGFuZCBiKHIpIGFzIGFic3RyYWN0IGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmVcbiAgIGRpZmZlcmVudGlhdGVkIHN5bWJvbGljYWxseS5cbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqKVxuXG5sZXQgbW9ycmlzX3Rob3JuZV9tZXRyaWMgPyhjPW9uZSkgKCkgPVxuICBsZXQgciA9IFZhciBcInJcIiBpblxuICBsZXQgdGhldGEgPSBWYXIgXCLOuFwiIGluXG4gIGxldCBwaGlfciA9IEZ1bmMgKFwizqZcIiwgcikgaW4gICAgKCogUmVkc2hpZnQgZnVuY3Rpb24gKilcbiAgbGV0IGJfciA9IEZ1bmMgKFwiYlwiLCByKSBpbiAgICAgICgqIFNoYXBlIGZ1bmN0aW9uICopXG4gIFxuICAoKiBnX3R0ID0gLWVeezLOpihyKX0gY8KyICopXG4gIGxldCBnX3R0ID0gbmVnIChtdWwgKEV4cCAobXVsIHR3byBwaGlfcikpIChtdWwgYyBjKSkgaW5cbiAgXG4gICgqIGdfcnIgPSAxLygxIC0gYihyKS9yKSA9IHIvKHIgLSBiKHIpKSAqKVxuICBsZXQgZ19yciA9IGRpdiByIChzdWIgciBiX3IpIGluXG4gIFxuICAoKiBnX864zrggPSBywrIgKilcbiAgbGV0IGdfdGh0aCA9IG11bCByIHIgaW5cbiAgXG4gICgqIGdfz4bPhiA9IHLCsiBzaW7Css64ICopXG4gIGxldCBnX3BocGggPSBtdWwgKG11bCByIHIpIChwb3cgKFNpbiB0aGV0YSkgdHdvKSBpblxuICBcbiAgbGV0IGNvbXBvbmVudHMgPSBBcnJheS5tYWtlX21hdHJpeCA0IDQgemVybyBpblxuICBjb21wb25lbnRzLigwKS4oMCkgPC0gZ190dDtcbiAgY29tcG9uZW50cy4oMSkuKDEpIDwtIGdfcnI7XG4gIGNvbXBvbmVudHMuKDIpLigyKSA8LSBnX3RodGg7XG4gIGNvbXBvbmVudHMuKDMpLigzKSA8LSBnX3BocGg7XG4gIFxuICBtYWtlX21ldHJpYyBjb21wb25lbnRzXG5cbigqIFNpbXBsaWZpZWQ6IM6mID0gMCAoemVyby10aWRhbC1mb3JjZSB3b3JtaG9sZSkgKilcbmxldCBzaW1wbGVfd29ybWhvbGVfbWV0cmljID8oYz1vbmUpICgpID1cbiAgbGV0IHIgPSBWYXIgXCJyXCIgaW5cbiAgbGV0IHRoZXRhID0gVmFyIFwizrhcIiBpblxuICBsZXQgYl9yID0gRnVuYyAoXCJiXCIsIHIpIGluXG4gIFxuICBsZXQgZ190dCA9IG5lZyAobXVsIGMgYykgaW5cbiAgbGV0IGdfcnIgPSBkaXYgciAoc3ViIHIgYl9yKSBpblxuICBsZXQgZ190aHRoID0gbXVsIHIgciBpblxuICBsZXQgZ19waHBoID0gbXVsIChtdWwgciByKSAocG93IChTaW4gdGhldGEpIHR3bykgaW5cbiAgXG4gIGxldCBjb21wb25lbnRzID0gQXJyYXkubWFrZV9tYXRyaXggNCA0IHplcm8gaW5cbiAgY29tcG9uZW50cy4oMCkuKDApIDwtIGdfdHQ7XG4gIGNvbXBvbmVudHMuKDEpLigxKSA8LSBnX3JyO1xuICBjb21wb25lbnRzLigyKS4oMikgPC0gZ190aHRoO1xuICBjb21wb25lbnRzLigzKS4oMykgPC0gZ19waHBoO1xuICBcbiAgbWFrZV9tZXRyaWMgY29tcG9uZW50c1xuXG4oKiBFdmVuIHNpbXBsZXI6IGNvbnN0YW50IGIocikgPSBi4oKAICopXG5sZXQgY29uc3RhbnRfYl93b3JtaG9sZSA/KGM9b25lKSA/KGIwPVZhciBcImLigoBcIikgKCkgPVxuICBsZXQgciA9IFZhciBcInJcIiBpblxuICBsZXQgdGhldGEgPSBWYXIgXCLOuFwiIGluXG4gIFxuICBsZXQgZ190dCA9IG5lZyAobXVsIGMgYykgaW5cbiAgbGV0IGdfcnIgPSBkaXYgciAoc3ViIHIgYjApIGluXG4gIGxldCBnX3RodGggPSBtdWwgciByIGluXG4gIGxldCBnX3BocGggPSBtdWwgKG11bCByIHIpIChwb3cgKFNpbiB0aGV0YSkgdHdvKSBpblxuICBcbiAgbGV0IGNvbXBvbmVudHMgPSBBcnJheS5tYWtlX21hdHJpeCA0IDQgemVybyBpblxuICBjb21wb25lbnRzLigwKS4oMCkgPC0gZ190dDtcbiAgY29tcG9uZW50cy4oMSkuKDEpIDwtIGdfcnI7XG4gIGNvbXBvbmVudHMuKDIpLigyKSA8LSBnX3RodGg7XG4gIGNvbXBvbmVudHMuKDMpLigzKSA8LSBnX3BocGg7XG4gIFxuICBtYWtlX21ldHJpYyBjb21wb25lbnRzXG5cbigqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgUFJJTlRJTkdcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqKVxuXG5sZXQgcHJpbnRfbWV0cmljIG1ldHJpYyA9XG4gIHByaW50X2VuZGxpbmUgXCJNZXRyaWMgZ1/OvM69OlwiO1xuICBsZXQgY29vcmRzID0gW1widFwiOyBcInJcIjsgXCLOuFwiOyBcIs+GXCJdIGluXG4gIGZvciBpID0gMCB0byAzIGRvXG4gICAgZm9yIGogPSAwIHRvIDMgZG9cbiAgICAgIGxldCBnID0gbWV0cmljLmNvbXBvbmVudHMuKGkpLihqKSBpblxuICAgICAgaWYgbm90IChpc196ZXJvIGcpIHRoZW5cbiAgICAgICAgUHJpbnRmLnByaW50ZiBcIiAgZ197JXMlc30gPSAlc1xcblwiIFxuICAgICAgICAgIChMaXN0Lm50aCBjb29yZHMgaSkgKExpc3QubnRoIGNvb3JkcyBqKSAodG9fc3RyaW5nIGcpXG4gICAgZG9uZVxuICBkb25lO1xuICBwcmludF9lbmRsaW5lIFwiXFxuSW52ZXJzZSBtZXRyaWMgZ17OvM69OlwiO1xuICBmb3IgaSA9IDAgdG8gMyBkb1xuICAgIGZvciBqID0gMCB0byAzIGRvXG4gICAgICBsZXQgZyA9IG1ldHJpYy5pbnZlcnNlLihpKS4oaikgaW5cbiAgICAgIGlmIG5vdCAoaXNfemVybyBnKSB0aGVuXG4gICAgICAgIFByaW50Zi5wcmludGYgXCIgIGdeeyVzJXN9ID0gJXNcXG5cIlxuICAgICAgICAgIChMaXN0Lm50aCBjb29yZHMgaSkgKExpc3QubnRoIGNvb3JkcyBqKSAodG9fc3RyaW5nIGcpXG4gICAgZG9uZVxuICBkb25lXG4iXSwiaWdub3JlTGlzdCI6WzBdfX1dfQ==
