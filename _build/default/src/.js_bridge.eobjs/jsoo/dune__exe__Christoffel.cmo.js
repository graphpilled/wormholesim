// Generated by js_of_ocaml
//# buildInfo:effects=false, kind=cmo, use-js-string=true, version=5.9.1

//# unitInfo: Provides: Dune__exe__Christoffel
//# unitInfo: Requires: Dune__exe__Expr, Dune__exe__Metric, Stdlib, Stdlib__Array, Stdlib__List, Stdlib__Printf
(function
  (globalThis){
   "use strict";
   var
    runtime = globalThis.jsoo_runtime,
    cst_r$1 = "r",
    cst_t$1 = "t",
    caml_check_bound = runtime.caml_check_bound;
   function caml_call1(f, a0){
    return (f.l >= 0 ? f.l : f.l = f.length) === 1
            ? f(a0)
            : runtime.caml_call_gen(f, [a0]);
   }
   function caml_call2(f, a0, a1){
    return (f.l >= 0 ? f.l : f.l = f.length) === 2
            ? f(a0, a1)
            : runtime.caml_call_gen(f, [a0, a1]);
   }
   function caml_call3(f, a0, a1, a2){
    return (f.l >= 0 ? f.l : f.l = f.length) === 3
            ? f(a0, a1, a2)
            : runtime.caml_call_gen(f, [a0, a1, a2]);
   }
   function caml_call5(f, a0, a1, a2, a3, a4){
    return (f.l >= 0 ? f.l : f.l = f.length) === 5
            ? f(a0, a1, a2, a3, a4)
            : runtime.caml_call_gen(f, [a0, a1, a2, a3, a4]);
   }
   var
    global_data = runtime.caml_get_global_data(),
    cst = "\xcf\x86",
    cst$0 = "\xce\xb8",
    Stdlib = global_data.Stdlib,
    Dune_exe_Expr = global_data.Dune__exe__Expr,
    Stdlib_Printf = global_data.Stdlib__Printf,
    Dune_exe_Metric = global_data.Dune__exe__Metric,
    Stdlib_List = global_data.Stdlib__List,
    Stdlib_Array = global_data.Stdlib__Array,
    cst_Christoffel_symbols_non_ze =
      "Christoffel symbols \xce\x93^\xcf\x83_\xce\xbc\xce\xbd (non-zero only):",
    cst_r = cst_r$1,
    cst_t = cst_t$1,
    _a_ =
      [0,
       [11,
        "  \xce\x93^",
        [2, 0, [11, "_{", [2, 0, [2, 0, [11, "} = ", [2, 0, [12, 10, 0]]]]]]]],
       "  \xce\x93^%s_{%s%s} = %s\n"],
    cst_Christoffel_symbols_LaTeX = "Christoffel symbols (LaTeX):",
    cst_phi = "\\phi",
    cst_theta = "\\theta",
    cst_r$0 = cst_r$1,
    cst_t$0 = cst_t$1,
    _b_ =
      [0,
       [11,
        "  \\Gamma^{",
        [2,
         0,
         [11,
          "}_{",
          [2, 0, [2, 0, [11, "} &= ", [2, 0, [11, " \\\\\n", 0]]]]]]]],
       "  \\Gamma^{%s}_{%s%s} &= %s \\\\\n"];
   function metric_derivative(metric, rho, mu, nu){
    var
     g_mu_nu = caml_call3(Dune_exe_Metric[3], metric, mu, nu),
     _B_ = caml_call2(Dune_exe_Expr[22], rho, g_mu_nu);
    return caml_call1(Dune_exe_Expr[24], _B_);
   }
   function christoffel(metric, sigma, mu, nu){
    var sum = [0, Dune_exe_Expr[4]];
    caml_call2
     (Stdlib_List[18],
      function(rho){
       var
        g_inv_sigma_rho = caml_call3(Dune_exe_Metric[4], metric, sigma, rho),
        _y_ = 1 - caml_call1(Dune_exe_Expr[7], g_inv_sigma_rho);
       if(_y_){
        var
         dmu_g_nu_rho = metric_derivative(metric, mu, nu, rho),
         dnu_g_mu_rho = metric_derivative(metric, nu, mu, rho),
         drho_g_mu_nu = metric_derivative(metric, rho, mu, nu),
         _z_ = caml_call2(Dune_exe_Expr[10], dmu_g_nu_rho, dnu_g_mu_rho),
         bracket = caml_call2(Dune_exe_Expr[11], _z_, drho_g_mu_nu),
         term = caml_call2(Dune_exe_Expr[12], g_inv_sigma_rho, bracket);
        sum[1] = caml_call2(Dune_exe_Expr[10], sum[1], term);
        var _A_ = 0;
       }
       else
        var _A_ = _y_;
       return _A_;
      },
      Dune_exe_Expr[1]);
    var
     _v_ = sum[1],
     _w_ = caml_call2(Dune_exe_Expr[13], Dune_exe_Expr[5], Dune_exe_Expr[6]),
     _x_ = caml_call2(Dune_exe_Expr[12], _w_, _v_);
    return caml_call1(Dune_exe_Expr[24], _x_);
   }
   function compute_christoffels(metric){
    var
     gamma =
       caml_call2
        (Stdlib_Array[1],
         4,
         function(param){
          return caml_call2
                  (Stdlib_Array[1],
                   4,
                   function(param){
                    return runtime.caml_make_vect(4, Dune_exe_Expr[4]);
                   });
         });
    caml_call2
     (Stdlib_List[18],
      function(sigma){
       return caml_call2
               (Stdlib_List[18],
                function(mu){
                 return caml_call2
                         (Stdlib_List[18],
                          function(nu){
                           var
                            s = caml_call1(Dune_exe_Metric[1], sigma),
                            m = caml_call1(Dune_exe_Metric[1], mu),
                            n = caml_call1(Dune_exe_Metric[1], nu),
                            _t_ = m <= n ? 1 : 0;
                           if(_t_){
                            var g = christoffel(metric, sigma, mu, nu);
                            caml_check_bound
                              (caml_check_bound(caml_check_bound(gamma, s)[1 + s], m)
                                [1 + m],
                               n)
                             [1 + n]
                            = g;
                            caml_check_bound
                              (caml_check_bound(gamma[1 + s], n)[1 + n], m)
                             [1 + m]
                            = g;
                            var _u_ = 0;
                           }
                           else
                            var _u_ = _t_;
                           return _u_;
                          },
                          Dune_exe_Expr[1]);
                },
                Dune_exe_Expr[1]);
      },
      Dune_exe_Expr[1]);
    return [0, gamma];
   }
   function get_christoffel(cs, sigma, mu, nu){
    var
     _q_ = caml_call1(Dune_exe_Metric[1], nu),
     _r_ = caml_call1(Dune_exe_Metric[1], mu),
     _s_ = caml_call1(Dune_exe_Metric[1], sigma);
    return caml_check_bound
             (caml_check_bound(caml_check_bound(cs[1], _s_)[1 + _s_], _r_)
               [1 + _r_],
              _q_)
            [1 + _q_];
   }
   function print_christoffels(cs){
    caml_call1(Stdlib[46], cst_Christoffel_symbols_non_ze);
    var coord_str = [0, cst_t, cst_r, cst$0, cst], s = 0;
    for(;;){
     var m = 0;
     for(;;){
      if(3 >= m){
       var n = m;
       for(;;){
        var
         g =
           caml_check_bound
             (caml_check_bound(caml_check_bound(cs[1], s)[1 + s], m)[1 + m],
              n)
            [1 + n];
        if(1 - caml_call1(Dune_exe_Expr[7], g)){
         var
          _l_ = caml_call1(Dune_exe_Expr[25], g),
          _m_ = caml_check_bound(coord_str, n)[1 + n],
          _n_ = caml_check_bound(coord_str, m)[1 + m],
          _o_ = caml_check_bound(coord_str, s)[1 + s];
         caml_call5(Stdlib_Printf[2], _a_, _o_, _n_, _m_, _l_);
        }
        var _p_ = n + 1 | 0;
        if(3 === n) break;
        n = _p_;
       }
      }
      var _k_ = m + 1 | 0;
      if(3 === m) break;
      m = _k_;
     }
     var _j_ = s + 1 | 0;
     if(3 === s) return 0;
     s = _j_;
    }
   }
   function print_christoffels_latex(cs){
    caml_call1(Stdlib[46], cst_Christoffel_symbols_LaTeX);
    var coord_str = [0, cst_t$0, cst_r$0, cst_theta, cst_phi], s = 0;
    for(;;){
     var m = 0;
     for(;;){
      if(3 >= m){
       var n = m;
       for(;;){
        var
         g =
           caml_check_bound
             (caml_check_bound(caml_check_bound(cs[1], s)[1 + s], m)[1 + m],
              n)
            [1 + n];
        if(1 - caml_call1(Dune_exe_Expr[7], g)){
         var
          _e_ = caml_call1(Dune_exe_Expr[27], g),
          _f_ = caml_check_bound(coord_str, n)[1 + n],
          _g_ = caml_check_bound(coord_str, m)[1 + m],
          _h_ = caml_check_bound(coord_str, s)[1 + s];
         caml_call5(Stdlib_Printf[2], _b_, _h_, _g_, _f_, _e_);
        }
        var _i_ = n + 1 | 0;
        if(3 === n) break;
        n = _i_;
       }
      }
      var _d_ = m + 1 | 0;
      if(3 === m) break;
      m = _d_;
     }
     var _c_ = s + 1 | 0;
     if(3 === s) return 0;
     s = _c_;
    }
   }
   var
    Dune_exe_Christoffel =
      [0,
       metric_derivative,
       christoffel,
       compute_christoffels,
       get_christoffel,
       print_christoffels,
       print_christoffels_latex];
   runtime.caml_register_global
    (18, Dune_exe_Christoffel, "Dune__exe__Christoffel");
   return;
  }
  (globalThis));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLmpzX2JyaWRnZS5lb2Jqcy9qc29vL2R1bmVfX2V4ZV9fQ2hyaXN0b2ZmZWwuY21vLmpzIiwic2VjdGlvbnMiOlt7Im9mZnNldCI6eyJsaW5lIjo5LCJjb2x1bW4iOjB9LCJtYXAiOnsidmVyc2lvbiI6MywiZmlsZSI6Ii5qc19icmlkZ2UuZW9ianMvanNvby9kdW5lX19leGVfX0NocmlzdG9mZmVsLmNtby5qcyIsIm5hbWVzIjpbInJ1bnRpbWUiLCJjc3RfciIsImNzdF90IiwiY2FtbF9jaGVja19ib3VuZCIsImNhbWxfY2FsbDEiLCJmIiwiYTAiLCJjYW1sX2NhbGwyIiwiYTEiLCJjYW1sX2NhbGwzIiwiYTIiLCJjYW1sX2NhbGw1IiwiYTMiLCJhNCIsImdsb2JhbF9kYXRhIiwiY3N0IiwiU3RkbGliIiwiRHVuZV9leGVfRXhwciIsIlN0ZGxpYl9QcmludGYiLCJEdW5lX2V4ZV9NZXRyaWMiLCJTdGRsaWJfTGlzdCIsIlN0ZGxpYl9BcnJheSIsImNzdF9DaHJpc3RvZmZlbF9zeW1ib2xzX25vbl96ZSIsImNzdF9DaHJpc3RvZmZlbF9zeW1ib2xzX0xhVGVYIiwiY3N0X3BoaSIsImNzdF90aGV0YSIsIm1ldHJpY19kZXJpdmF0aXZlIiwibWV0cmljIiwicmhvIiwibXUiLCJudSIsImdfbXVfbnUiLCJjaHJpc3RvZmZlbCIsInNpZ21hIiwic3VtIiwiZ19pbnZfc2lnbWFfcmhvIiwiZG11X2dfbnVfcmhvIiwiZG51X2dfbXVfcmhvIiwiZHJob19nX211X251IiwiYnJhY2tldCIsInRlcm0iLCJjb21wdXRlX2NocmlzdG9mZmVscyIsImdhbW1hIiwicGFyYW0iLCJzIiwibSIsIm4iLCJnIiwiZ2V0X2NocmlzdG9mZmVsIiwiY3MiLCJwcmludF9jaHJpc3RvZmZlbHMiLCJjb29yZF9zdHIiLCJwcmludF9jaHJpc3RvZmZlbHNfbGF0ZXgiLCJEdW5lX2V4ZV9DaHJpc3RvZmZlbCJdLCJzb3VyY2VzIjpbIi9idWlsdGluL2JsYWNrYm94Lm1sIiwiL3dvcmtzcGFjZV9y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L0Q7QUFBQTtBQUFBLFNBQUFDLElBQ0U7QUFBQTtBQUFBLE1BQ0U7QUFBQSxXQUFBQyxJQUFBO0FBQUE7QUFBQTtBQUFBLFNBQUFDO0FBQUFBLFdBQ1U7QUFBQTtBQUFBO0FBQUE7QUFBQSxRQUNEO0FBQUE7QUFBQSxnQkFFdUM7QUFBQSxnQkFBZDtBQUFBLGdCQUFkO0FBQUEsZ0JBQWQ7QUFBQSxTQURGO0FBQUE7QUFBQSxrQkFEZ0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUZwQjtBQUFBO0FBQUE7QUFBQTtBQUFBLGVBREY7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQVFFO0FBQUEsWUFBQUsseUJBQUFIO0FBQUFBLElBR0o7QUFBQSxRQUFBRSxZQUE0QywyQ0FBQVAsSUFFNUM7QUFBQTtBQUFBLFNBQUFDLElBQ0U7QUFBQTtBQUFBLE1BQ0U7QUFBQSxXQUFBQyxJQUFBO0FBQUE7QUFBQTtBQUFBLFNBQUFDO0FBQUFBLFdBQ1U7QUFBQTtBQUFBO0FBQUE7QUFBQSxRQUNEO0FBQUE7QUFBQSxnQkFFdUM7QUFBQSxnQkFBZDtBQUFBLGdCQUFkO0FBQUEsZ0JBQWQ7QUFBQSxTQURGO0FBQUE7QUFBQSxrQkFEZ0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUZwQjtBQUFBO0FBQUE7QUFBQTtBQUFBLGVBREY7QUFBQTtBQUFBO0FBQUE7QUFBQSxHQVFFO0FBQUE7QUFBQSxJQUFBTTtBQUFBQSxNRDVHTiIsInNvdXJjZXNDb250ZW50IjpbIigqIGdlbmVyYXRlZCBjb2RlICopIiwiKCogY2hyaXN0b2ZmZWwubWwgLSBDaHJpc3RvZmZlbCBzeW1ib2xzIGNvbXB1dGVkIGZyb20gdGhlIG1ldHJpYyAqKVxuXG5vcGVuIEV4cHJcbm9wZW4gTWV0cmljXG5cbigqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgQ0hSSVNUT0ZGRUwgU1lNQk9MUyAtIEFDVFVBTExZIENPTVBVVEVEXG4gICBcbiAgIM6TXs+DX868zr0gPSAoMS8yKSBnXnvPg8+BfSAo4oiCX868IGdfe869z4F9ICsg4oiCX869IGdfe868z4F9IC0g4oiCX8+BIGdfe868zr19KVxuICAgXG4gICBUaGlzIGlzIFJFQUwgQ09NUFVUQVRJT046XG4gICAxLiBEaWZmZXJlbnRpYXRlIG1ldHJpYyBjb21wb25lbnRzIHN5bWJvbGljYWxseVxuICAgMi4gQ29udHJhY3Qgd2l0aCBpbnZlcnNlIG1ldHJpY1xuICAgMy4gU2ltcGxpZnkgdGhlIHJlc3VsdFxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICopXG5cbigqIENvbXB1dGUg4oiCX8+BIGdfzrzOvSAqKVxubGV0IG1ldHJpY19kZXJpdmF0aXZlIG1ldHJpYyByaG8gbXUgbnUgPVxuICBsZXQgZ19tdV9udSA9IGdldF9sb3dlciBtZXRyaWMgbXUgbnUgaW5cbiAgZGlmZmVyZW50aWF0ZSByaG8gZ19tdV9udSB8PiBmdWxsX3NpbXBsaWZ5XG5cbigqIENvbXB1dGUgzpNez4NfzrzOvSBmcm9tIGRlZmluaXRpb24gKilcbmxldCBjaHJpc3RvZmZlbCBtZXRyaWMgc2lnbWEgbXUgbnUgPVxuICAoKiDOk17Pg1/OvM69ID0gKDEvMikgZ157z4PPgX0gKOKIgl/OvCBnX3vOvc+BfSArIOKIgl/OvSBnX3vOvM+BfSAtIOKIgl/PgSBnX3vOvM69fSkgKilcbiAgXG4gICgqIFN1bSBvdmVyIM+BICopXG4gIGxldCBzdW0gPSByZWYgemVybyBpblxuICBMaXN0Lml0ZXIgKGZ1biByaG8gLT5cbiAgICBsZXQgZ19pbnZfc2lnbWFfcmhvID0gZ2V0X3VwcGVyIG1ldHJpYyBzaWdtYSByaG8gaW5cbiAgICBcbiAgICAoKiBTa2lwIGlmIGdee8+Dz4F9ID0gMCAoY29tbW9uIGZvciBkaWFnb25hbCBtZXRyaWNzKSAqKVxuICAgIGlmIG5vdCAoaXNfemVybyBnX2ludl9zaWdtYV9yaG8pIHRoZW4gYmVnaW5cbiAgICAgIGxldCBkbXVfZ19udV9yaG8gPSBtZXRyaWNfZGVyaXZhdGl2ZSBtZXRyaWMgbXUgbnUgcmhvIGluICAgKCog4oiCX868IGdfe869z4F9ICopXG4gICAgICBsZXQgZG51X2dfbXVfcmhvID0gbWV0cmljX2Rlcml2YXRpdmUgbWV0cmljIG51IG11IHJobyBpbiAgICgqIOKIgl/OvSBnX3vOvM+BfSAqKVxuICAgICAgbGV0IGRyaG9fZ19tdV9udSA9IG1ldHJpY19kZXJpdmF0aXZlIG1ldHJpYyByaG8gbXUgbnUgaW4gICAoKiDiiIJfz4EgZ197zrzOvX0gKilcbiAgICAgIFxuICAgICAgbGV0IGJyYWNrZXQgPSBzdWIgKGFkZCBkbXVfZ19udV9yaG8gZG51X2dfbXVfcmhvKSBkcmhvX2dfbXVfbnUgaW5cbiAgICAgIGxldCB0ZXJtID0gbXVsIGdfaW52X3NpZ21hX3JobyBicmFja2V0IGluXG4gICAgICBzdW0gOj0gYWRkICFzdW0gdGVybVxuICAgIGVuZFxuICApIGFsbF9jb29yZHM7XG4gIFxuICBtdWwgKGRpdiBvbmUgdHdvKSAhc3VtIHw+IGZ1bGxfc2ltcGxpZnlcblxuKCogQ29tcHV0ZSBhbGwgQ2hyaXN0b2ZmZWwgc3ltYm9scyAqKVxudHlwZSBjaHJpc3RvZmZlbF9zeW1ib2xzID0ge1xuICBnYW1tYSA6IGV4cHIgYXJyYXkgYXJyYXkgYXJyYXk7ICAoKiDOk17Pg1/OvM69IGluZGV4ZWQgW8+DXVvOvF1bzr1dICopXG59XG5cbmxldCBjb21wdXRlX2NocmlzdG9mZmVscyBtZXRyaWMgPVxuICBsZXQgZ2FtbWEgPSBBcnJheS5pbml0IDQgKGZ1biBfIC0+IFxuICAgIEFycmF5LmluaXQgNCAoZnVuIF8gLT4gXG4gICAgICBBcnJheS5tYWtlIDQgemVyb1xuICAgIClcbiAgKSBpblxuICBcbiAgTGlzdC5pdGVyIChmdW4gc2lnbWEgLT5cbiAgICBMaXN0Lml0ZXIgKGZ1biBtdSAtPlxuICAgICAgTGlzdC5pdGVyIChmdW4gbnUgLT5cbiAgICAgICAgbGV0IHMgPSBjb29yZF90b19pZHggc2lnbWEgaW5cbiAgICAgICAgbGV0IG0gPSBjb29yZF90b19pZHggbXUgaW5cbiAgICAgICAgbGV0IG4gPSBjb29yZF90b19pZHggbnUgaW5cbiAgICAgICAgKCogVXNlIHN5bW1ldHJ5OiDOk17Pg1/OvM69ID0gzpNez4Nfzr3OvCAqKVxuICAgICAgICBpZiBtIDw9IG4gdGhlbiBiZWdpblxuICAgICAgICAgIGxldCBnID0gY2hyaXN0b2ZmZWwgbWV0cmljIHNpZ21hIG11IG51IGluXG4gICAgICAgICAgZ2FtbWEuKHMpLihtKS4obikgPC0gZztcbiAgICAgICAgICBnYW1tYS4ocykuKG4pLihtKSA8LSBnICAoKiBTeW1tZXRyaWMgKilcbiAgICAgICAgZW5kXG4gICAgICApIGFsbF9jb29yZHNcbiAgICApIGFsbF9jb29yZHNcbiAgKSBhbGxfY29vcmRzO1xuICBcbiAgeyBnYW1tYSB9XG5cbigqIEdldCBDaHJpc3RvZmZlbCBzeW1ib2wgzpNez4NfzrzOvSAqKVxubGV0IGdldF9jaHJpc3RvZmZlbCBjcyBzaWdtYSBtdSBudSA9XG4gIGNzLmdhbW1hLihjb29yZF90b19pZHggc2lnbWEpLihjb29yZF90b19pZHggbXUpLihjb29yZF90b19pZHggbnUpXG5cbigqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgUFJJTlRJTkdcbiAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqKVxuXG5sZXQgcHJpbnRfY2hyaXN0b2ZmZWxzIGNzID1cbiAgcHJpbnRfZW5kbGluZSBcIkNocmlzdG9mZmVsIHN5bWJvbHMgzpNez4NfzrzOvSAobm9uLXplcm8gb25seSk6XCI7XG4gIGxldCBjb29yZF9zdHIgPSBbfFwidFwiOyBcInJcIjsgXCLOuFwiOyBcIs+GXCJ8XSBpblxuICBmb3IgcyA9IDAgdG8gMyBkb1xuICAgIGZvciBtID0gMCB0byAzIGRvXG4gICAgICBmb3IgbiA9IG0gdG8gMyBkbyAgKCogVXNlIHN5bW1ldHJ5ICopXG4gICAgICAgIGxldCBnID0gY3MuZ2FtbWEuKHMpLihtKS4obikgaW5cbiAgICAgICAgaWYgbm90IChpc196ZXJvIGcpIHRoZW5cbiAgICAgICAgICBQcmludGYucHJpbnRmIFwiICDOk14lc197JXMlc30gPSAlc1xcblwiXG4gICAgICAgICAgICBjb29yZF9zdHIuKHMpIGNvb3JkX3N0ci4obSkgY29vcmRfc3RyLihuKSAodG9fc3RyaW5nIGcpXG4gICAgICBkb25lXG4gICAgZG9uZVxuICBkb25lXG5cbmxldCBwcmludF9jaHJpc3RvZmZlbHNfbGF0ZXggY3MgPVxuICBwcmludF9lbmRsaW5lIFwiQ2hyaXN0b2ZmZWwgc3ltYm9scyAoTGFUZVgpOlwiO1xuICBsZXQgY29vcmRfc3RyID0gW3xcInRcIjsgXCJyXCI7IFwiXFxcXHRoZXRhXCI7IFwiXFxcXHBoaVwifF0gaW5cbiAgZm9yIHMgPSAwIHRvIDMgZG9cbiAgICBmb3IgbSA9IDAgdG8gMyBkb1xuICAgICAgZm9yIG4gPSBtIHRvIDMgZG9cbiAgICAgICAgbGV0IGcgPSBjcy5nYW1tYS4ocykuKG0pLihuKSBpblxuICAgICAgICBpZiBub3QgKGlzX3plcm8gZykgdGhlblxuICAgICAgICAgIFByaW50Zi5wcmludGYgXCIgIFxcXFxHYW1tYV57JXN9X3slcyVzfSAmPSAlcyBcXFxcXFxcXFxcblwiXG4gICAgICAgICAgICBjb29yZF9zdHIuKHMpIGNvb3JkX3N0ci4obSkgY29vcmRfc3RyLihuKSAodG9fbGF0ZXggZylcbiAgICAgIGRvbmVcbiAgICBkb25lXG4gIGRvbmVcbiJdLCJpZ25vcmVMaXN0IjpbMF19fV19
